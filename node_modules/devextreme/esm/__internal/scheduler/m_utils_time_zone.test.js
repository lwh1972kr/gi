/**
 * DevExtreme (esm/__internal/scheduler/m_utils_time_zone.test.js)
 * Version: 24.2.10
 * Build date: Fri Aug 29 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/
 */
import {
    beforeAll,
    describe,
    expect,
    it,
    jest
} from "@jest/globals";
import {
    globalCache
} from "./global_cache";
import timeZoneUtils from "./m_utils_time_zone";
import timeZoneList from "./timezones/timezone_list";
describe("timezone utils", (() => {
    beforeAll((() => {
        globalCache.timezones.clear()
    }));
    describe("calculateTimezoneByValue", (() => {
        it("should cache the results", (() => {
            timeZoneList.value.forEach((timezone => {
                timeZoneUtils.calculateTimezoneByValue(timezone)
            }));
            jest.spyOn(Intl, "DateTimeFormat");
            timeZoneList.value.forEach((timezone => {
                timeZoneUtils.calculateTimezoneByValue(timezone)
            }));
            expect(globalCache.timezones.size).toBe(timeZoneList.value.length);
            expect(Intl.DateTimeFormat).toHaveBeenCalledTimes(0)
        }))
    }))
}));
